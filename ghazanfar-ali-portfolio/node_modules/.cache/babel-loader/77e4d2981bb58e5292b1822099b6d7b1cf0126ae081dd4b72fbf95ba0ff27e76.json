{"ast":null,"code":"import { jsx as e } from \"react/jsx-runtime\";\nimport { createContext as t, useState as r, useRef as n, useEffect as o, useContext as s } from \"react\";\nconst i = t({}),\n  c = ({\n    children: t,\n    menu: r\n  }) => e(i.Provider, Object.assign({\n    value: r\n  }, {\n    children: t\n  })),\n  l = e => {\n    let t = 0;\n    for (; e;) t += e.offsetTop, e = e.offsetParent;\n    return t;\n  },\n  a = (e = {}) => {\n    const {\n        activeClassName: t = \"active\",\n        offset: s = 0,\n        smooth: i = !1\n      } = e,\n      [c, a] = r(),\n      d = n(),\n      f = n(new Map()),\n      u = n(new Map());\n    return o(() => {\n      const e = d.current,\n        t = f.current;\n      if (t.size) {\n        const r = () => {\n          let r,\n            n,\n            o = -1 / 0;\n          for (const [i, c] of t.entries()) {\n            const {\n                top: t = 0\n              } = (null == e ? void 0 : e.getBoundingClientRect()) || {},\n              {\n                top: l\n              } = c.getBoundingClientRect();\n            l <= 0 + t + s && l > o && (o = l, r = i), n || (n = i);\n          }\n          a(r || n);\n        };\n        return r(), window.addEventListener(\"resize\", r), e ? (e.addEventListener(\"scroll\", r), () => {\n          window.removeEventListener(\"resize\", r), e.removeEventListener(\"scroll\", r);\n        }) : (window.addEventListener(\"scroll\", r), () => {\n          window.removeEventListener(\"resize\", r), window.removeEventListener(\"scroll\", r);\n        });\n      }\n    }, [s]), o(() => {\n      const e = d.current,\n        t = f.current,\n        r = u.current;\n      if (t.size && r.size) {\n        const n = r => n => {\n          n.preventDefault();\n          const o = t.get(r);\n          if (o && n.target instanceof HTMLElement) if (e) {\n            const {\n              top: t\n            } = e.getBoundingClientRect();\n            e.scrollTo({\n              behavior: i ? \"smooth\" : \"auto\",\n              top: l(o) - t - s\n            });\n          } else window.scrollTo({\n            behavior: i ? \"smooth\" : \"auto\",\n            top: l(o) - s\n          });\n        };\n        let o = [];\n        for (const [e, t] of r.entries()) {\n          const r = n(e);\n          t.addEventListener(\"click\", r), o.push(() => t.removeEventListener(\"click\", r));\n        }\n        return () => {\n          for (const e of o) e();\n        };\n      }\n    }, [s, i]), o(() => {\n      const e = u.current;\n      if (e.size) for (const [r, n] of e.entries()) n.classList.remove(t), r === c && n.classList.add(t);\n    }, [t, c]), {\n      activeId: c,\n      registerContainer: e => d.current = e,\n      registerSection: e => t => f.current.set(e, t),\n      registerTrigger: e => t => u.current.set(e, t)\n    };\n  },\n  d = () => s(i);\nexport { c as ActiveMenuProvider, a as useActiveMenu, d as useActiveMenuContext };","map":{"version":3,"names":["i","t","c","ActiveMenuProvider","children","menu","r","e","Provider","Object","assign","value","l","offsetTop","offsetParent","a","useActiveMenu","activeClassName","offset","s","smooth","d","n","f","Map","u","o","current","size","detectClosest","entries","top","getBoundingClientRect","window","addEventListener","removeEventListener","preventDefault","get","target","HTMLElement","scrollTo","behavior","push","classList","remove","add","activeId","registerContainer","registerSection","set","registerTrigger","useActiveMenuContext"],"sources":["../../src/ActiveMenuContext.ts","../../src/ActiveMenuProvider.tsx","../../src/utils.ts","../../src/useActiveMenu.ts","../../src/useActiveMenuContext.ts"],"sourcesContent":[null,null,null,null,null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}